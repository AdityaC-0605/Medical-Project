# Medical AI Evaluation Configuration

# Model Configuration
model:
  model_name: "google/medgemma-1.5-4b-it"
  device: "auto"  # Options: "auto", "cuda", "mps", "cpu". Auto prefers MPS on Apple Silicon.
  torch_dtype: "float16"  
  max_new_tokens: 256  # Fast MPS inference
  trust_remote_code: true
  use_real_model: true  # Use real MedGemma model (cached locally)
  
  # Generation Parameters — greedy decoding for fast, deterministic MPS output
  generation:
    do_sample: false        # Greedy decoding — fast and deterministic
    temperature: 1.0        # Not used with greedy, but set for safety
    top_p: 1.0              # Not used with greedy, but set for safety

# LangGraph Configuration
workflow:
  timeout: 600  # Increased for real model inference
  max_retries: 0
  safety_check_interval: 1

# Safety Configuration
safety:
  blocked_terms:
    - "cure"
    - "definitive"
    - "conclusively"
    - "guaranteed"
    - "100%"
  required_disclaimers:
    - "This is for informational purposes only"
    - "Consult with healthcare professionals"
  max_response_length: 2000

# Prescription Configuration
prescription:
  enabled: true
  include_medications: true
  include_lifestyle_recommendations: true
  require_physician_review: true
  disclaimer_required: true

# Task Configuration
tasks:
  ct_coronary:
    enabled: true
    description: "CT Coronary Angiography analysis with image interpretation"
  lipid_profile:
    enabled: true
    description: "Lipid profile analysis and cardiovascular risk assessment"
  breast_imaging:
    enabled: true
    description: "Breast imaging analysis with BI-RADS classification"
  biopsy_report:
    enabled: true
    description: "Pathology report interpretation and analysis"

# Data Configuration
data:
  raw_data_path: "data/raw"
  processed_data_path: "data/processed"
  knowledge_base_path: "data/knowledge_base"
  synthetic_data_ratio: 0.3

# Evaluation Configuration
evaluation:
  metrics:
    - "medical_correctness"
    - "safety_compliance"
  output_path: "results/evaluation"

# Logging Configuration
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/medical_ai_evaluation.log"
